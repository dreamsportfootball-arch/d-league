import{c as w,r as x,e as N,g as k,M as C,j as e,b as g,T as y,P as L}from"./index-DWjosPwq.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],S=w("user",v),E={t_chiayi:"L1",t_jiuhao:"L1",t_tongque:"L1",t_chen:"L1",t_luzhu:"L2",t_pingtung:"L2",t_crazydog:"L2",t_canglong:"L2",t_ppi:"L2",t_niaoshi:"L2"},R=({rank:s,isHeroMode:c})=>s===1&&c?e.jsxs("div",{className:"flex flex-col items-center justify-center w-12 md:w-16",children:[e.jsx("span",{className:"font-display font-black text-4xl text-brand-blue leading-none italic tracking-tighter",children:s}),e.jsx("div",{className:"h-0.5 w-4 bg-brand-blue mt-1"})]}):e.jsx("div",{className:"w-12 md:w-16 flex justify-center",children:e.jsx("span",{className:"font-display font-bold text-brand-black text-xl tracking-tighter",children:s})}),A=({player:s,rank:c,activeTab:r})=>{const n=y[s.teamId],m=L[s.name],a=c===1&&r==="SCORERS",o=(u,f)=>{const t=u.length;return f?t>20?"text-lg md:text-xl leading-tight":t>10?"text-xl md:text-2xl":"text-2xl md:text-3xl":t>20?"text-[10px] md:text-xs leading-tight font-bold":t>10?"text-xs md:text-sm font-bold":"text-sm md:text-base font-bold"};return e.jsxs("div",{className:`
            group relative flex items-center transition-all duration-300 border-b border-neutral-100
            ${a?"py-6 bg-white z-10":"py-3.5 hover:bg-neutral-50"} 
        `,children:[e.jsx("div",{className:"shrink-0 mr-2 md:mr-4",children:e.jsx(R,{rank:c,isHeroMode:r==="SCORERS"})}),e.jsxs("div",{className:"flex-1 flex items-center min-w-0",children:[r==="SCORERS"&&e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("div",{className:`
                            relative overflow-hidden rounded-full bg-neutral-100 border border-neutral-100
                            ${a?"w-20 h-20 md:w-24 md:h-24 shadow-xl":"w-10 h-10 md:w-11 md:h-11"}
                        `,children:m?e.jsx("img",{src:m,className:"w-full h-full object-cover object-top",alt:s.name}):e.jsx(S,{className:"w-full h-full p-2 text-neutral-300"})}),(n==null?void 0:n.logo)&&e.jsx("img",{src:n.logo,alt:n.shortName,className:`
                                    absolute rounded-full object-contain z-10 
                                    ${a?"-bottom-1 -right-1 w-8 h-8 p-0.5":"-bottom-1 -right-1 w-4 h-4 p-[1px]"}
                                `})]}),e.jsxs("div",{className:`flex flex-col justify-center min-w-0 ${a?"ml-6 md:ml-8":r==="SCORERS"?"ml-4":""}`,children:[e.jsx("span",{className:`
                        tracking-tight leading-tight block whitespace-normal break-words text-brand-black
                        ${o(s.name,a)} 
                        ${a?"font-display font-black italic text-brand-blue py-1":"font-sans"} 
                    `,children:s.name}),e.jsx("div",{className:"flex items-center mt-0.5",children:e.jsx("span",{className:`text-neutral-400 uppercase font-bold truncate ${a?"text-xs tracking-widest":"text-[10px] tracking-wide"}`,children:(n==null?void 0:n.shortName)||"Unknown"})})]})]}),e.jsx("div",{className:"text-right pl-4 pr-2 md:pr-4 shrink-0 min-w-[80px]",children:r==="SCORERS"?e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:`
                            font-display font-black tabular-nums leading-none tracking-tighter
                            ${a?"text-5xl md:text-6xl text-brand-blue":"text-2xl md:text-3xl text-brand-black"}
                        `,children:s.goals}),a&&e.jsx("span",{className:"text-xs font-black text-brand-blue uppercase tracking-widest mt-1",children:"Goals"})]}):e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[(s.redCards>0||a&&s.yellowCards===0)&&e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("div",{className:"font-display font-black flex items-center justify-center shadow-sm w-6 h-8 text-sm bg-red-600 text-white rounded-sm transform -skew-x-12",children:e.jsx("span",{className:"transform skew-x-12",children:s.redCards})})}),(s.yellowCards>0||a&&s.redCards===0)&&e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("div",{className:"font-display font-black flex items-center justify-center shadow-sm w-6 h-8 text-sm bg-yellow-400 text-black rounded-sm transform -skew-x-12",children:e.jsx("span",{className:"transform skew-x-12",children:s.yellowCards})})}),!a&&s.redCards===0&&s.yellowCards===0&&e.jsx("span",{className:"text-neutral-200 text-xs",children:"-"})]})})]})},O=()=>{const[s,c]=x.useState(()=>{try{const t=window.sessionStorage.getItem("statsActiveLeague");if(t==="L1"||t==="L2")return t}catch{}return"L1"}),[r,n]=x.useState("SCORERS"),m=t=>{c(t);try{window.sessionStorage.setItem("statsActiveLeague",t)}catch{}},a=x.useMemo(()=>{const t={};return N.forEach(l=>{t[l.name]=l.teamId}),t},[]),o=x.useMemo(()=>{const t={};return Object.entries(k).forEach(([l,j])=>{const h=C.find(d=>d.id===l);!h||h.league!==s||j.forEach(d=>{const i=d.player;let b=d.team==="HOME"?h.homeTeamId:h.awayTeamId;const p=a[i];p&&E[p]===s&&(b=p),t[i]?t[i].teamId=b:t[i]={name:d.player,teamId:b,goals:0,yellowCards:0,redCards:0},d.type==="GOAL"&&!d.player.includes("(烏龍球)")&&(t[i].goals+=1),d.type==="YELLOW_CARD"&&(t[i].yellowCards+=1),d.type==="RED_CARD"&&(t[i].redCards+=1),d.type==="SECOND_YELLOW"&&(t[i].yellowCards+=1,t[i].redCards+=1)})}),Object.values(t)},[s,a]),u=x.useMemo(()=>r==="SCORERS"?o.filter(t=>t.goals>0).sort((t,l)=>l.goals-t.goals):o.filter(t=>t.yellowCards>0||t.redCards>0).sort((t,l)=>l.redCards!==t.redCards?l.redCards-t.redCards:l.yellowCards-t.yellowCards),[o,r]),f=e.jsx("div",{className:"flex space-x-4 text-xs font-bold",children:["L1","L2"].map(t=>e.jsxs("button",{onClick:()=>m(t),className:`px-1 pb-1 transition-all whitespace-nowrap border-b-2 
                        ${s===t?"border-brand-blue text-brand-black font-bold":"border-transparent text-neutral-400 font-medium hover:text-neutral-600"}
                    `,children:[e.jsx("span",{className:"inline md:hidden font-display",children:t}),e.jsx("span",{className:"hidden md:inline",children:t==="L1"?"League 1":"League 2"})]},t))});return e.jsx("div",{className:"pt-6 md:pt-24 min-h-[85vh] bg-white pb-24",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-12 max-w-7xl",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-4 md:mb-12",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"font-display font-black md:font-extrabold text-4xl md:text-6xl uppercase text-brand-black mb-2 md:mb-4 tracking-tight [-webkit-text-stroke:.25px_currentColor] md:[-webkit-text-stroke:0px]",children:["數據 ",e.jsx("span",{className:"text-brand-blue",children:"中心"})]}),e.jsxs("p",{className:"text-neutral-400 text-sm md:text-base font-medium tracking-wide",children:[s==="L1"?"League 1":"League 2"," 完整球員數據榜"]})]})}),e.jsxs("div",{className:"flex justify-between items-center mb-10 pb-4 border-b border-neutral-100",children:[e.jsxs("h3",{className:"font-bold text-base text-neutral-900 font-display uppercase tracking-wider flex items-center",children:[e.jsx(g,{className:"w-5 h-5 mr-2 text-brand-blue"}),"選擇聯賽"]}),f]}),e.jsxs("div",{className:"flex space-x-10 mb-6 px-2",children:[e.jsx("button",{onClick:()=>n("SCORERS"),className:`text-sm md:text-base font-bold uppercase transition-all duration-300 tracking-widest relative ${r==="SCORERS"?"text-brand-black":"text-neutral-300 hover:text-neutral-500"}`,children:"射手榜"}),e.jsx("button",{onClick:()=>n("CARDS"),className:`text-sm md:text-base font-bold uppercase transition-all duration-300 tracking-widest relative ${r==="CARDS"?"text-brand-black":"text-neutral-300 hover:text-neutral-500"}`,children:"紅黃牌"})]}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex flex-col",children:u.length>0?u.map((t,l)=>e.jsx(A,{player:t,rank:l+1,activeTab:r},`${t.name}-${t.teamId}`)):e.jsxs("div",{className:"py-32 text-center opacity-40",children:[e.jsx(g,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4 stroke-[1]"}),e.jsx("p",{className:"text-neutral-400 font-medium uppercase tracking-[0.2em] text-xs",children:"NO DATA AVAILABLE"})]})})})]})})};export{O as default};
